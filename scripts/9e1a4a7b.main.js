"use strict";function initialize(){var a={backgroundColor:"#005b41",zoom:8,mapTypeId:google.maps.MapTypeId.HYBRID};map=new google.maps.Map(document.getElementById("location-map"),a),geocoder=new google.maps.Geocoder,elevator=new google.maps.ElevationService,navigator.geolocation?navigator.geolocation.getCurrentPosition(function(a){loadingMessage.parentNode.removeChild(loadingMessage);var b=new google.maps.LatLng(a.coords.latitude,a.coords.longitude),c={locations:[b]};map.setCenter(b),console.log("Latitude: "+b.lat()),console.log("Longitude: "+b.lng());var d=new google.maps.InfoWindow({content:'<div class="info-window"><dl id="info-window-content"><dt>Lat:</dt><dd>'+b.lat()+"</dd><dt>Lng:</dt><dd>"+b.lng()+"</dd></dl></div>"}),e=new google.maps.Marker({map:map,position:b,title:"Click to zoom"});d.open(map,e),geocoder.geocode({latLng:b},function(a,b){var c,d=document.getElementById("info-window-content"),e=a[0].formatted_address;b===google.maps.GeocoderStatus.OK?a[0]?(c=e,console.log("Address: "+e)):(c='<span class="error">Address not available</span>',console.log("No address result")):(c='<span class="error">Geocode failed: '+b+"</span>",console.log("Geocode failed: "+b)),d.innerHTML=d.innerHTML+"<dt>Adr:</dt><dd>"+c+"</dd>"}),elevator.getElevationForLocations(c,function(a,b){var c,d=document.getElementById("info-window-content"),e=a[0].elevation;b===google.maps.ElevationStatus.OK?a[0]?(c=e,console.log("Elevation: "+e+" meters")):(c='<span class="error">Elevation not available</span>',console.log("No elevation result")):(c='<span class="error">Elevation failed: '+b+"</span>",console.log("Elevation failed: "+b)),d.innerHTML=d.innerHTML+"<dt>Ele:</dt><dd>"+c+" meters</dd>"}),google.maps.event.addListener(e,"click",function(){map.panTo(b),map.setZoom(19),map.setTilt(45)})},function(){handleNoGeolocation(!0)}):handleNoGeolocation(!1)}function handleNoGeolocation(a){var b,c=new google.maps.LatLng(52,-1);loadingMessage.parentNode.removeChild(loadingMessage),b=a?"Please allow location information":"Your browser doesn't support Geolocation";{var d={map:map,position:c,content:'<div class="info-window-error"><p>'+b+"</p></div>"};new google.maps.InfoWindow(d)}map.setCenter(d.position)}var map,google,geocoder,elevator,loadingMessage=document.getElementById("loading-message");google.maps.event.addDomListener(window,"load",initialize);